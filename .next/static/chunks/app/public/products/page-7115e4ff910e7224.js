(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[968],{7841:function(e,t,r){Promise.resolve().then(r.bind(r,5505))},5505:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(7437),a=r(2265),i=r(9801),o=r(6013),s=r(4693),c=r(7138),u=r(495);function d(){let[e,t]=(0,a.useState)([]),[r,d]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{try{let e=await i.R.getPublicProducts();t(e)}catch(e){console.error("Failed to fetch public products",e)}finally{d(!1)}})()},[]),(0,n.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,n.jsxs)("header",{className:"px-6 py-4 flex items-center justify-between border-b",children:[(0,n.jsx)("div",{className:"text-xl font-bold",children:"Baisoft Marketplace"}),(0,n.jsxs)("nav",{className:"flex gap-4",children:[(0,n.jsx)(c.default,{href:"/",children:(0,n.jsx)(u.z,{variant:"ghost",children:"Home"})}),(0,n.jsx)(c.default,{href:"/auth/login",children:(0,n.jsx)(u.z,{children:"Login"})})]})]}),(0,n.jsxs)("main",{className:"flex-1 container mx-auto p-6",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Available Products"}),r?(0,n.jsx)("div",{children:"Loading products..."}):(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.length>0?e.map(e=>(0,n.jsxs)(o.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,n.jsx)(o.Ol,{children:(0,n.jsx)(o.ll,{children:e.name})}),(0,n.jsxs)(o.aY,{children:[(0,n.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("p",{className:"font-bold text-lg",children:["$",e.price]}),(0,n.jsx)(s.C,{variant:"outline",children:"In Stock"})]}),(0,n.jsxs)("div",{className:"text-xs text-muted-foreground mt-4",children:["Seller: ",e.business_name||"Unknown"]})]})]},e.id)):(0,n.jsx)("p",{children:"No products available at the moment."})})]})]})}},4693:function(e,t,r){"use strict";r.d(t,{C:function(){return c}});var n=r(7437);r(2265);var a=r(1538),i=r(3027),o=r(7440);let s=(0,i.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,asChild:i=!1,...c}=e,u=i?a.g7:"span";return(0,n.jsx)(u,{"data-slot":"badge",className:(0,o.cn)(s({variant:r}),t),...c})}},495:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(7437);r(2265);var a=r(1538),i=r(3027),o=r(7440);let s=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:r,size:i,asChild:c=!1,...u}=e,d=c?a.g7:"button";return(0,n.jsx)(d,{"data-slot":"button",className:(0,o.cn)(s({variant:r,size:i,className:t})),...u})}},6013:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return i},aY:function(){return u},eW:function(){return d},ll:function(){return s}});var n=r(7437);r(2265);var a=r(7440);function i(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function s(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",t),...r})}function c(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",t),...r})}function u(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",t),...r})}function d(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},7440:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var n=r(4839),a=r(6164);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},7138:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(231),a=r.n(n)},357:function(e,t,r){"use strict";var n,a;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(8081)},8081:function(e){!function(){var t={229:function(e){var t,r,n,a=e.exports={};function i(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c=[],u=!1,d=-1;function l(){u&&n&&(u=!1,n.length?c=n.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(l);u=!0;for(var t=c.length;t;){for(n=c,c=[];++d<t;)n&&n[d].run();d=-1,t=c.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new v(e,t)),1!==c.length||u||s(f)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var i=r[e]={exports:{}},o=!0;try{t[e](i,i.exports,n),o=!1}finally{o&&delete r[e]}return i.exports}n.ab="//";var a=n(229);e.exports=a}()},459:function(e,t,r){"use strict";r.d(t,{h:function(){return o}});var n=r(8472),a=r(7776);let i=r(357).env.NEXT_PUBLIC_API_URL||"http://127.0.0.1:8000/api",o=n.Z.create({baseURL:i,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),o.interceptors.response.use(e=>e,async e=>{var t,r,n;let i=e.config;(null===(t=e.response)||void 0===t?void 0:t.status)!==401||i._retry||(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"));let o=(null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.detail)||e.message||"An error occurred";return a.Am.error(o),Promise.reject(e)})},9801:function(e,t,r){"use strict";r.d(t,{R:function(){return i}});var n=r(459);let a="/products",i={getProducts:async()=>(await n.h.get("".concat(a,"/"))).data,getPublicProducts:async()=>(await n.h.get("".concat(a,"/public/"))).data,getProduct:async e=>(await n.h.get("".concat(a,"/").concat(e,"/"))).data,createProduct:async e=>(await n.h.post("".concat(a,"/"),e)).data,updateProduct:async(e,t)=>(await n.h.put("".concat(a,"/").concat(e,"/"),t)).data,approveProduct:async e=>(await n.h.post("".concat(a,"/").concat(e,"/approve/"))).data,deleteProduct:async e=>{await n.h.delete("".concat(a,"/").concat(e,"/"))}}}},function(e){e.O(0,[247,776,472,231,971,23,744],function(){return e(e.s=7841)}),_N_E=e.O()}]);