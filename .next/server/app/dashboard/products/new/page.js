(()=>{var e={};e.id=56,e.ids=[56],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3256:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>l,pages:()=>u,routeModule:()=>m,tree:()=>c}),r(4479),r(6327),r(7564),r(5866);var s=r(3191),a=r(8716),o=r(7922),i=r.n(o),n=r(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let c=["",{children:["dashboard",{children:["products",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4479)),"/home/hall/Downloads/HomeAssessment/baisoft-marketplace/frontend/app/dashboard/products/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6327)),"/home/hall/Downloads/HomeAssessment/baisoft-marketplace/frontend/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,7564)),"/home/hall/Downloads/HomeAssessment/baisoft-marketplace/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],u=["/home/hall/Downloads/HomeAssessment/baisoft-marketplace/frontend/app/dashboard/products/new/page.tsx"],l="/dashboard/products/new/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/products/new/page",pathname:"/dashboard/products/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7307:(e,t,r)=>{Promise.resolve().then(r.bind(r,198))},198:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(326),a=r(5047),o=r(7110),i=r(770);let n=i.Km(["draft","pending_approval","approved"]),d=i.Ry({id:i.Z_().uuid(),email:i.Z_().email(),first_name:i.Z_().optional(),last_name:i.Z_().optional()});i.Ry({id:i.Z_().uuid(),name:i.Z_(),slug:i.Z_(),description:i.Z_(),price:i.Z_(),status:n,created_by:d.optional(),created_at:i.Z_().datetime(),updated_at:i.Z_().datetime(),business_name:i.Z_().optional(),created_by_name:i.Z_().optional()});let c=i.Ry({name:i.Z_().min(3,"Product name must be at least 3 characters").max(255,"Product name must not exceed 255 characters"),description:i.Z_().min(10,"Description must be at least 10 characters").max(2e3,"Description must not exceed 2000 characters"),price:i.oQ.number().positive("Price must be a positive number").max(999999.99,"Price is too high")});c.partial();var u=r(447),l=r(772),p=r(6384),m=r(1048),x=r(3071);function h(){let e=(0,a.useRouter)(),{createProduct:t}=(0,u.k)(),{register:r,handleSubmit:i,formState:{errors:n}}=(0,o.c)({schema:c});return s.jsx("div",{className:"max-w-2xl mx-auto py-8",children:(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{children:[s.jsx(x.ll,{children:"Create New Product"}),s.jsx(x.SZ,{children:"Add a new product to your business catalog."})]}),(0,s.jsxs)("form",{onSubmit:i(r=>{t.mutate(r,{onSuccess:()=>{e.push("/dashboard/products")}})}),children:[(0,s.jsxs)(x.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(m._,{htmlFor:"name",children:"Product Name"}),s.jsx(p.I,{id:"name",...r("name"),placeholder:"e.g. Premium Widget"}),n.name&&s.jsx("p",{className:"text-sm text-destructive",children:n.name.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(m._,{htmlFor:"description",children:"Description"}),s.jsx("textarea",{id:"description",...r("description"),className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Describe your product..."}),n.description&&s.jsx("p",{className:"text-sm text-destructive",children:n.description.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(m._,{htmlFor:"price",children:"Price ($)"}),s.jsx(p.I,{id:"price",type:"number",step:"0.01",...r("price"),placeholder:"0.00"}),n.price&&s.jsx("p",{className:"text-sm text-destructive",children:n.price.message})]})]}),(0,s.jsxs)(x.eW,{className:"flex justify-between",children:[s.jsx(l.z,{variant:"outline",type:"button",onClick:()=>e.back(),children:"Cancel"}),s.jsx(l.z,{type:"submit",disabled:t.isPending,children:t.isPending?"Creating...":"Create Product"})]})]})]})})}},6384:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var s=r(326);r(7577);var a=r(7863);function o({className:e,type:t,...r}){return s.jsx("input",{type:t,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}},1048:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var s=r(326);r(7577);var a=r(9152),o=r(7863);function i({className:e,...t}){return s.jsx(a.f,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},7110:(e,t,r)=>{"use strict";r.d(t,{c:()=>o});var s=r(4723),a=r(4064);function o({schema:e,...t}){return(0,s.cI)({...t,resolver:e?(0,a.F)(e):void 0})}},447:(e,t,r)=>{"use strict";r.d(t,{k:()=>c});var s=r(4976),a=r(108),o=r(119),i=r(8329),n=r(5999),d=r(2254);function c(){let e=(0,s.NL)(),{setAppLoading:t}=(0,d.q)(),{data:r=[],isLoading:c,isError:u}=(0,a.a)({queryKey:["products"],queryFn:i.R.getProducts}),l=(0,o.D)({mutationFn:e=>i.R.createProduct(e),onSuccess:()=>{e.invalidateQueries({queryKey:["products"]}),n.Am.success("Product created successfully")},onError:e=>{n.Am.error(e.message||"Failed to create product")}});return{products:r,isLoading:c,isError:u,createProduct:l,updateProduct:(0,o.D)({mutationFn:({id:e,data:t})=>i.R.updateProduct(e,t),onSuccess:()=>{e.invalidateQueries({queryKey:["products"]}),n.Am.success("Product updated successfully")},onError:e=>{n.Am.error(e.message||"Failed to update product")}}),deleteProduct:(0,o.D)({mutationFn:e=>i.R.deleteProduct(e),onSuccess:()=>{e.invalidateQueries({queryKey:["products"]}),n.Am.success("Product deleted successfully")},onError:e=>{n.Am.error(e.message||"Failed to delete product")}}),approveProduct:(0,o.D)({mutationFn:e=>i.R.approveProduct(e),onSuccess:()=>{e.invalidateQueries({queryKey:["products"]}),n.Am.success("Product approved successfully")},onError:e=>{n.Am.error(e.message||"Failed to approve product")}})}}},2374:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var s=r(4464),a=r(5999);let o=process.env.NEXT_PUBLIC_API_URL||"http://127.0.0.1:8000/api",i=s.Z.create({baseURL:o,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),i.interceptors.response.use(e=>e,async e=>{let t=e.config;e.response?.status!==401||t._retry||(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"));let r=e.response?.data?.detail||e.message||"An error occurred";return a.Am.error(r),Promise.reject(e)})},8329:(e,t,r)=>{"use strict";r.d(t,{R:()=>o});var s=r(2374);let a="/products",o={getProducts:async()=>(await s.h.get(`${a}/`)).data,getPublicProducts:async()=>(await s.h.get(`${a}/public/`)).data,getProduct:async e=>(await s.h.get(`${a}/${e}/`)).data,createProduct:async e=>(await s.h.post(`${a}/`,e)).data,updateProduct:async(e,t)=>(await s.h.put(`${a}/${e}/`,t)).data,approveProduct:async e=>(await s.h.post(`${a}/${e}/approve/`)).data,deleteProduct:async e=>{await s.h.delete(`${a}/${e}/`)}}},4479:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>n});var s=r(8570);let a=(0,s.createProxy)(String.raw`/home/hall/Downloads/HomeAssessment/baisoft-marketplace/frontend/app/dashboard/products/new/page.tsx`),{__esModule:o,$$typeof:i}=a;a.default;let n=(0,s.createProxy)(String.raw`/home/hall/Downloads/HomeAssessment/baisoft-marketplace/frontend/app/dashboard/products/new/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[156,404,326,464,302,748,108,193],()=>r(3256));module.exports=s})();